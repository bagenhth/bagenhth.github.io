<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Geek</title>
  <subtitle>geek&#39;s keepland</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://geek.com/"/>
  <updated>2017-08-22T16:16:55.708Z</updated>
  <id>http://geek.com/</id>
  
  <author>
    <name>Bruce Lee</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Spring In Action -- JDBC</title>
    <link href="http://geek.com/2017/08/22/Spring-In-Action-JDBC/"/>
    <id>http://geek.com/2017/08/22/Spring-In-Action-JDBC/</id>
    <published>2017-08-22T14:38:14.000Z</published>
    <updated>2017-08-22T16:16:55.708Z</updated>
    
    <content type="html"><![CDATA[<p>　　以下内容节选自《Spring In Action》一书，描述了Spring对于JDBC的支持，以及一些Spring与JDBC操作之间的细节。<br><a id="more"></a></p>
<h2 id="1-直接使用JDBC操作数据库"><a href="#1-直接使用JDBC操作数据库" class="headerlink" title="1. 直接使用JDBC操作数据库"></a><em>1.</em> 直接使用JDBC操作数据库</h2><p>　　<strong>JDBC</strong>是Java与数据库之间进行沟通的标准方式，如果采用传统的方式，直接通过JDBC访问数据库并执行操作，那么你需要自己处理关于这一过程中的所有细节、琐事，例如下面是一段直接使用JDBC访问数据库的样板代码，你可以发现数十行代码仅仅是为了实现向数据库中插入一个用户对象(User)这一简单操作，冗长而繁琐。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addUser</span><span class="params">(User user)</span> </span>&#123;</div><div class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String SQL = <span class="string">"INSERT INTO USER (username, password, fullname) VALUES (?, ?, ?)"</span>;</div><div class="line">  <span class="keyword">private</span> DataSource dataSource;</div><div class="line">  </div><div class="line">  Connection conn = <span class="keyword">null</span>;</div><div class="line">  PreparedStatement stmt = <span class="keyword">null</span>;</div><div class="line">  <span class="keyword">try</span> &#123;</div><div class="line">    conn = dataSource.getConnection();</div><div class="line">    stmt = conn.preparedStatement(SQL);</div><div class="line">    stmt.setString(<span class="number">1</span>, user.getUsername());</div><div class="line">    stmt.setString(<span class="number">2</span>, user.getPassword());</div><div class="line">    stmt.setString(<span class="number">3</span>, user.getFullName());</div><div class="line">  &#125; <span class="keyword">catch</span> (SQLException ex) &#123;</div><div class="line">    <span class="comment">// 异常处理</span></div><div class="line">  &#125; <span class="keyword">finally</span> &#123;</div><div class="line">    <span class="keyword">try</span> &#123;</div><div class="line">      <span class="keyword">if</span> (stmt != <span class="keyword">null</span>) &#123;</div><div class="line">        stmt.close();</div><div class="line">      &#125;</div><div class="line">      <span class="keyword">if</span> (conn != <span class="keyword">null</span>) &#123;</div><div class="line">        conn.close();</div><div class="line">      &#125;</div><div class="line">    &#125; <span class="keyword">catch</span> (SQLException ex) &#123;</div><div class="line">      <span class="comment">// 异常处理</span></div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>　　上面这段代码中，只有几句是真正用于执行数据插入的，但是由于JDBC要求你必须正确地管理连接和语句，所以你不得不处理过程中可能的异常，注意这个<strong>SQLException</strong>异常，你不仅不知道如何处理它（因为不知道具体的出错原因），而且还需要捕获它两次（插入操作以及关闭连接时），因此你需要手动执行很多的附加操作来解决这些问题，而这些细节通常与你关注的业务逻辑无关。<br>　　此外，这些建立连接、处理异常、关闭连接、释放资源的相同操作会在每一个数据操作方法里被执行一次，多余而浪费。
　　
　　</p>
<h2 id="2-使用Spring提供的JDBC-Template操作数据库"><a href="#2-使用Spring提供的JDBC-Template操作数据库" class="headerlink" title="2. 使用Spring提供的JDBC Template操作数据库"></a><em>2.</em> 使用Spring提供的JDBC Template操作数据库</h2><p>　　由于直接使用JDBC操作数据库有很多的样板代码，Spring提供了JDBC Template来简化JDBC代码，让我们只需要编写从数据库读取数据的必要代码。<br>　　Spring将数据访问的样板代码抽象到了模板类当中，Spring为JDBC提供了三个模板类供选择： </p>
<ul>
<li><strong>JdbcTemplate</strong> 最基本的JDBC模板，这个模板支持简单的JDBC数据库访问功能以及基于索引参数的查询</li>
<li><strong>Named</strong> 使用改模板类执行查询时可以将值以命名参数的形式绑定到SQL语句中，而不是简单的索引参数。 </li>
<li><del><strong>SimpleJdbcTemplate</strong> 已弃用</del></li>
</ul>
<h3 id="2-1-使用JdbcTemplate"><a href="#2-1-使用JdbcTemplate" class="headerlink" title="2.1 使用JdbcTemplate"></a><em>2.1</em> 使用JdbcTemplate</h3><p>　　为了让JdbcTemplate正常工作，需要为其提供数据源，简单的配置如下：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*# ApplicationContextConfig.java #*/</span></div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * dev环境数据源</span></div><div class="line"><span class="comment"> * <span class="doctag">@return</span> H2嵌入式数据源</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="meta">@Profile</span>(<span class="string">"dev"</span>)</div><div class="line"><span class="meta">@Bean</span>(<span class="string">"dataSource"</span>)</div><div class="line"><span class="function"><span class="keyword">public</span> DataSource <span class="title">EmbeddedDataSource</span><span class="params">()</span> </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="keyword">new</span> EmbeddedDatabaseBuilder()</div><div class="line">      .setType(EmbeddedDatabaseType.H2)</div><div class="line">      .addScript(<span class="string">"classpath:db_test/default.sql"</span>)</div><div class="line">      .build();</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * qa环境数据源</span></div><div class="line"><span class="comment"> * <span class="doctag">@return</span> DBCP2数据库连接池，封装MySql数据库</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="meta">@Profile</span>(<span class="string">"qa"</span>)</div><div class="line"><span class="meta">@Bean</span>(<span class="string">"dataSource"</span>)</div><div class="line"><span class="function"><span class="keyword">public</span> DataSource <span class="title">DBCP2DataSource</span><span class="params">()</span> </span>&#123;</div><div class="line">  BasicDataSource dataSource = <span class="keyword">new</span> BasicDataSource();</div><div class="line">  dataSource.setDriverClassName(<span class="string">"com.mysql.jdbc.Driver"</span>);</div><div class="line">  dataSource.setUrl(</div><div class="line">      <span class="string">"jdbc:mysql://localhost:3306/default?useSSL=false&amp;useUnicode=true&amp;characterEncoding=UTF-8"</span></div><div class="line">  );</div><div class="line">  dataSource.setUsername(<span class="string">"root"</span>);</div><div class="line">  dataSource.setPassword(<span class="string">"root"</span>);</div><div class="line">  dataSource.setInitialSize(<span class="number">5</span>);</div><div class="line">  dataSource.setMaxTotal(<span class="number">10</span>);</div><div class="line">  <span class="keyword">return</span> dataSource;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * JdbcTemplate Bean</span></div><div class="line"><span class="comment"> * <span class="doctag">@param</span> dataSource 数据源</span></div><div class="line"><span class="comment"> * <span class="doctag">@return</span> JdbcTemplate Bean</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="meta">@Bean</span>(<span class="string">"jdbcOperations"</span>)</div><div class="line"><span class="function"><span class="keyword">public</span> JdbcTemplate <span class="title">jdbcTemplate</span><span class="params">(DataSource dataSource)</span> </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="keyword">new</span> JdbcTemplate(dataSource);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>　　注意以上java config文件中使用了Spring的profile特性，使得可以在运行时切换不同的数据源。<br>　　<br>　　<br>　　一个简短的Domain类如下：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*# Student.java #*/</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</div><div class="line"></div><div class="line">  <span class="keyword">private</span> Integer id;</div><div class="line">  <span class="keyword">private</span> String name;</div><div class="line">  <span class="keyword">private</span> Integer age;</div><div class="line">  <span class="keyword">private</span> <span class="keyword">short</span> gender;</div><div class="line">  </div><div class="line">  <span class="comment">// 省略getter、setter</span></div><div class="line">  ...</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>　　对应的Repository接口实现类如下：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*# StudentRepositoryImpl.java #*/</span></div><div class="line"></div><div class="line"><span class="meta">@Repository</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StudentRepositoryImpl</span> <span class="keyword">implements</span> <span class="title">StudentRepository</span> </span>&#123;</div><div class="line">  </div><div class="line">  <span class="keyword">private</span> JdbcOperations jdbcOperations;</div><div class="line"></div><div class="line">  <span class="meta">@Autowired</span></div><div class="line">  <span class="function"><span class="keyword">public</span> <span class="title">StudentRepositoryImpl</span><span class="params">(JdbcOperations jdbcOperations)</span> </span>&#123;</div><div class="line">    <span class="keyword">this</span>.jdbcOperations = jdbcOperations;</div><div class="line">  &#125;</div><div class="line">  </div><div class="line">  </div><div class="line">  <span class="comment">/**</span></div><div class="line"><span class="comment">   * 查询单个学生对象</span></div><div class="line"><span class="comment">   * <span class="doctag">@param</span> id 学号</span></div><div class="line"><span class="comment">   * <span class="doctag">@return</span> 学生对象</span></div><div class="line"><span class="comment">   */</span></div><div class="line">  <span class="meta">@Override</span></div><div class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAStudent</span><span class="params">(Integer id)</span> </span>&#123;</div><div class="line">    String SQL = <span class="string">"SELECT ID, NAME, AGE, GENDER FROM STUDENT WHERE ID = ?"</span>;</div><div class="line">    <span class="keyword">return</span> jdbcOperations.queryForObject(SQL, <span class="keyword">this</span>::mapperStudent, id);</div><div class="line">  &#125;</div><div class="line">  </div><div class="line">  <span class="comment">/**</span></div><div class="line"><span class="comment">   * Student对象映射函数</span></div><div class="line"><span class="comment">   * <span class="doctag">@param</span> rs 结果集</span></div><div class="line"><span class="comment">   * <span class="doctag">@param</span> row 行号</span></div><div class="line"><span class="comment">   * <span class="doctag">@return</span> 包装后的Student对象</span></div><div class="line"><span class="comment">   * <span class="doctag">@throws</span> SQLException</span></div><div class="line"><span class="comment">   */</span></div><div class="line">  <span class="function"><span class="keyword">private</span> Student <span class="title">mapStudent</span><span class="params">(ResultSet rs, <span class="keyword">int</span> row)</span> <span class="keyword">throws</span> SQLException </span>&#123;</div><div class="line">    Student student = <span class="keyword">new</span> Student();</div><div class="line">    student.setId(rs.getInt(<span class="string">"id"</span>));</div><div class="line">    student.setName(rs.getString(<span class="string">"name"</span>));</div><div class="line">    student.setAge(rs.getInt(<span class="string">"age"</span>));</div><div class="line">    student.setGender(rs.getShort(<span class="string">"gender"</span>));</div><div class="line">    <span class="keyword">return</span> student;</div><div class="line">  &#125;</div><div class="line">  </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><strong>P.S.</strong> 以上实现使用构造器注入<br><strong>P.S.S</strong> 上述实现中使用了JdbcOperations接口，它包含了JdbcTemplate所实现的所有方法，通过注入JdbcOperations，而不是具体的JdbcTemplate，可以保证StudentRepositoryImpl与JdbcTemplate的松散耦合。</p>
<h3 id="2-2-使用NamedParameterJdbcTemplate"><a href="#2-2-使用NamedParameterJdbcTemplate" class="headerlink" title="2.2 使用NamedParameterJdbcTemplate"></a><em>2.2</em> 使用NamedParameterJdbcTemplate</h3><p>　　Domain与Repository与上述相同，不再单独列出。NamedParameterJdbcTemplate提供了基于命名参数的SQL参数替换规则，可以不用关心参数值与占位符对应不上的情况。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*# StudentRepositoryImpl.java #*/</span></div><div class="line"></div><div class="line"><span class="meta">@Repository</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StudentRepositoryImpl</span> <span class="keyword">implements</span> <span class="title">StudentRepository</span> </span>&#123;</div><div class="line"></div><div class="line">  <span class="keyword">private</span> NamedParameterJdbcOperations namedParameterJdbcOperations;</div><div class="line"></div><div class="line">  <span class="meta">@Autowired</span></div><div class="line">  <span class="function"><span class="keyword">public</span> <span class="title">StudentRepositoryImpl</span><span class="params">(NamedParameterJdbcOperations namedParameterJdbcOperations)</span> </span>&#123;</div><div class="line">    <span class="keyword">this</span>.namedParameterJdbcOperations = namedParameterJdbcOperations;</div><div class="line">  &#125;</div><div class="line">  </div><div class="line">  <span class="comment">/**</span></div><div class="line"><span class="comment">   * 更新学生实体对象</span></div><div class="line"><span class="comment">   * <span class="doctag">@param</span> student 学生对象</span></div><div class="line"><span class="comment">   * <span class="doctag">@return</span> 受影响的行数</span></div><div class="line"><span class="comment">   */</span></div><div class="line">  <span class="meta">@Override</span></div><div class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">updateStudent</span><span class="params">(Student student)</span> </span>&#123;</div><div class="line">    StringBuffer SQL = <span class="keyword">new</span> StringBuffer(<span class="string">"UPDATE STUDENT SET "</span>)</div><div class="line">        .append(<span class="string">"NAME = :name, "</span>)</div><div class="line">        .append(<span class="string">"AGE = :age, "</span>)</div><div class="line">        .append(<span class="string">"GENDER = :gender where ID = :id"</span>);</div><div class="line">    BeanPropertySqlParameterSource namedParameters = <span class="keyword">new</span> BeanPropertySqlParameterSource(student);</div><div class="line">    <span class="keyword">return</span> namedParameterJdbcOperations.update(SQL.toString(), namedParameters);</div><div class="line">  &#125;</div><div class="line">  </div><div class="line">  <span class="comment">/**</span></div><div class="line"><span class="comment">   * Student对象映射函数</span></div><div class="line"><span class="comment">   * <span class="doctag">@param</span> rs 结果集</span></div><div class="line"><span class="comment">   * <span class="doctag">@param</span> row 行号</span></div><div class="line"><span class="comment">   * <span class="doctag">@return</span> 包装后的Student对象</span></div><div class="line"><span class="comment">   * <span class="doctag">@throws</span> SQLException</span></div><div class="line"><span class="comment">   */</span></div><div class="line">  <span class="function"><span class="keyword">private</span> Student <span class="title">mapStudent</span><span class="params">(ResultSet rs, <span class="keyword">int</span> row)</span> <span class="keyword">throws</span> SQLException </span>&#123;</div><div class="line">    Student student = <span class="keyword">new</span> Student();</div><div class="line">    student.setId(rs.getInt(<span class="string">"id"</span>));</div><div class="line">    student.setName(rs.getString(<span class="string">"name"</span>));</div><div class="line">    student.setAge(rs.getInt(<span class="string">"age"</span>));</div><div class="line">    student.setGender(rs.getShort(<span class="string">"gender"</span>));</div><div class="line">    <span class="keyword">return</span> student;</div><div class="line">  &#125;</div><div class="line">  </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;　　以下内容节选自《Spring In Action》一书，描述了Spring对于JDBC的支持，以及一些Spring与JDBC操作之间的细节。&lt;br&gt;
    
    </summary>
    
      <category term="java" scheme="http://geek.com/categories/java/"/>
    
    
      <category term="spring" scheme="http://geek.com/tags/spring/"/>
    
      <category term="jdbc" scheme="http://geek.com/tags/jdbc/"/>
    
  </entry>
  
  <entry>
    <title>JavaScript数组操作（遗漏点）</title>
    <link href="http://geek.com/2016/07/02/JavaScript%E6%95%B0%E7%BB%84%E6%93%8D%E4%BD%9C%EF%BC%88%E9%81%97%E6%BC%8F%E7%82%B9%EF%BC%89/"/>
    <id>http://geek.com/2016/07/02/JavaScript数组操作（遗漏点）/</id>
    <published>2016-07-02T00:45:47.000Z</published>
    <updated>2017-08-22T13:56:51.167Z</updated>
    
    <content type="html"><![CDATA[<p>　　普通一维数组的操作方法很简单，但是对于多维数组的操作呢？其实也很简单，遵循和一维数组相同的操作方法。<br>　　<a id="more"></a><br>　　以sort()和join()为例。我们知道，</p>
<ul>
<li><strong>sort()方法会调用每个数组项的toString()转型方法，然后比较得到的字符串，以确定如何排序</strong></li>
<li><strong>join()方法接收作为分隔符的字符串，然后返回包含所有数组项的字符串</strong></li>
</ul>
<h3 id="例-1"><a href="#例-1" class="headerlink" title="例 1"></a>例 1</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> c = [<span class="number">1</span>, <span class="number">2</span>, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]];</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(c.sort());</div><div class="line"><span class="built_in">console</span>.log(c.join(<span class="string">'--'</span>));</div><div class="line"><span class="built_in">console</span>.log(c);</div><div class="line"></div><div class="line"><span class="comment">/* ======= 执行结果 =======</span></div><div class="line"><span class="comment"> * Array [ 1, Array[4], 2 ] </span></div><div class="line"><span class="comment"> * 1--1,2,3,4--2 </span></div><div class="line"><span class="comment"> * Array [ 1, Array[4], 2 ]</span></div><div class="line"><span class="comment"> */</span></div></pre></td></tr></table></figure>
<h3 id="例-2"><a href="#例-2" class="headerlink" title="例 2"></a>例 2</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = [[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>]];</div><div class="line"><span class="built_in">console</span>.log(a.sort());</div><div class="line"><span class="built_in">console</span>.log(a.join(<span class="string">"--"</span>));</div><div class="line"><span class="built_in">console</span>.log(a);</div><div class="line"></div><div class="line"><span class="comment">/* ======= 执行结果 =======</span></div><div class="line"><span class="comment"> * Array [ Array[4], Array[3] ] </span></div><div class="line"><span class="comment"> * 1,2,3,4--5,6,7 </span></div><div class="line"><span class="comment"> * Array [ Array[4], Array[3] ]</span></div><div class="line"><span class="comment"> */</span></div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;　　普通一维数组的操作方法很简单，但是对于多维数组的操作呢？其实也很简单，遵循和一维数组相同的操作方法。&lt;br&gt;
    
    </summary>
    
      <category term="js" scheme="http://geek.com/categories/js/"/>
    
    
      <category term="javascript" scheme="http://geek.com/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>CSS -- margin: auto;深入理解</title>
    <link href="http://geek.com/2016/05/19/CSS-margin-auto-%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/"/>
    <id>http://geek.com/2016/05/19/CSS-margin-auto-深入理解/</id>
    <published>2016-05-19T12:38:25.000Z</published>
    <updated>2017-08-22T13:56:55.264Z</updated>
    
    <content type="html"><![CDATA[<p>　　使用margin: auto;来水平居中一个块级元素是一个广为流传的技巧。但是你有没有思考过它为什么能实现水平居中呢？为了解它的原理，我们应该先了解margin: auto;的工作方式。此外，这篇文章还会掺杂一些margin: auto;可以做的事，例如有没有可能使用它来实现垂直居中……<br>　　<br><a id="more"></a></p>
<p>　　首先，auto的值到底是怎么确定的？<br>　　auto的值随其使用环境的不同而有不同的定义，在不同类型的元素，不同场合中应用会有不同的取值。但总的来说，取auto值意味着两种情况，占据所有可用空间或者取0。这两种取值将会<strong>为同一个元素定义不同的布局方式</strong>。
　　</p>
<h3 id="1-取”auto”值占据可用的空间"><a href="#1-取”auto”值占据可用的空间" class="headerlink" title="1.取”auto”值占据可用的空间"></a>1.取”auto”值占据可用的空间</h3><p>　　这是auto最常见的用法，通过给左外边距或右外边距赋auto值，他们会自动均分包含块水平方向的可用空间，这就形成了水平居中。（图和代码不上了，太常见了）。<br>　　注意，这种方法只对水平外边距有效（为什么后面会说到）。此外，<strong>浮动元素</strong>、<strong>行内元素</strong>、<strong>绝对定位和固定定位元素</strong>也不能通过此方法来水平居中。
　　</p>
<h3 id="2-取”auto”值来形成-“伪浮动”"><a href="#2-取”auto”值来形成-“伪浮动”" class="headerlink" title="2.取”auto”值来形成 “伪浮动”"></a>2.取”auto”值来形成 “伪浮动”</h3><p>　　对左外边距和右外边距同时取auto值会形成水平居中的效果，那你有没有想过只对它们中的一个取auto值会产生什么效果？<br>　　只对左、右外边距中的一个赋予auto值，会使得它占据该方向上的所有可用空间，即只给左外边距赋auto值时，元素会被向右推，就像设置了float: right;一样。
　　</p>
<h3 id="3-取”auto”值为0"><a href="#3-取”auto”值为0" class="headerlink" title="3.取”auto”值为0"></a>3.取”auto”值为0</h3><p>　　就像之前我们提到的，margin: auto;不能用来水平居中<strong>浮动元素</strong>、<strong>行内元素</strong>以及<strong>绝对定位元素</strong>，因为它们已经有了一个确定的布局 (<em>゜ー゜</em>)，因此对它们使用margin: auto;并没有作用。<br>　　此外，使用margin: auto;水平居中一个元素的话必须指定它的宽度width。<br>　　注意，对宽度应用auto的话，它margins值会被设置为0。因为块级元素的宽度通常取为它的包含块的宽度，也就是auto或100%时的情况（这种情况也就是width的默认值）。显然，此时它的取值为auto的margin将会被设置为0。
　　</p>
<h3 id="4-对垂直外边距应用auto会产生什么情况？"><a href="#4-对垂直外边距应用auto会产生什么情况？" class="headerlink" title="4.对垂直外边距应用auto会产生什么情况？"></a>4.对垂直外边距应用auto会产生什么情况？</h3><p>　　设置为auto的margin-top或margin-bottom将会取值为0。W3C规范写道：<em>If “margin-top” or “margin-bottom” is “auto”, their used value is 0</em>
　　</p>
<h3 id="5-使用绝对定位水平、垂直居中元素"><a href="#5-使用绝对定位水平、垂直居中元素" class="headerlink" title="5.使用绝对定位水平、垂直居中元素"></a>5.使用绝对定位水平、垂直居中元素</h3><p>　　还可以使用auto值来使一个绝对定位的元素水平、垂直居中。<br>　　首先看看对绝对定位元素使用margin: auto;会发生什么事，W3C规范指出：<br>　　<em>“If all three of “left”, “width”, and “right” are “auto”: First set any “auto” values for “margin-left” and “margin-right” to 0… “</em></p>
<p>　　<em>“If none of the three is “auto”: If both “margin-left” and “margin-right” are “auto”, solve the equation under the extra constraint that the two margins get equal values”</em>
　　</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;　　使用margin: auto;来水平居中一个块级元素是一个广为流传的技巧。但是你有没有思考过它为什么能实现水平居中呢？为了解它的原理，我们应该先了解margin: auto;的工作方式。此外，这篇文章还会掺杂一些margin: auto;可以做的事，例如有没有可能使用它来实现垂直居中……&lt;br&gt;　　&lt;br&gt;
    
    </summary>
    
      <category term="css" scheme="http://geek.com/categories/css/"/>
    
    
      <category term="css" scheme="http://geek.com/tags/css/"/>
    
      <category term="margin" scheme="http://geek.com/tags/margin/"/>
    
  </entry>
  
  <entry>
    <title>CSS线性渐变应用实例</title>
    <link href="http://geek.com/2016/05/17/CSS%E7%BA%BF%E6%80%A7%E6%B8%90%E5%8F%98%E5%BA%94%E7%94%A8%E5%AE%9E%E4%BE%8B/"/>
    <id>http://geek.com/2016/05/17/CSS线性渐变应用实例/</id>
    <published>2016-05-17T12:57:06.000Z</published>
    <updated>2017-08-22T13:57:00.426Z</updated>
    
    <content type="html"><![CDATA[<p>　　以下内容部分选取于《CSS Secrets》，部分来源于网上收集的案例。展示了CSS3线性渐变的一些应用实例。<br><a id="more"></a></p>
<hr>
<p><strong>1.</strong> 生成两端渐隐的分隔线<br>　　<img src="http://7xr55t.com1.z0.glb.clouddn.com/linear-gradient/divide-line.png" alt="divide-line"><br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"divide-line"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.divide-line</span> &#123;</div><div class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</div><div class="line">  <span class="attribute">height</span>: <span class="number">1px</span>;</div><div class="line">  <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(</div><div class="line">    to right, </div><div class="line">    rgba(255, 255, 255, .1) <span class="number">0%</span>, </div><div class="line">    <span class="built_in">rgba</span>(240, 240, 240, .8) <span class="number">1%</span>, </div><div class="line">    <span class="number">#ddd</span> <span class="number">4%</span>, <span class="number">#ddd</span> <span class="number">96%</span>, </div><div class="line">    <span class="built_in">rgba</span>(240, 240, 240, .8) <span class="number">99%</span>, </div><div class="line">    <span class="built_in">rgba</span>(255, 255, 255, .1) <span class="number">100%</span></div><div class="line">  );</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<p><strong>2.</strong> 生成柔和渐变<br>　　当两个颜色节点的位置不同时，它们中间的部分会自动进行柔和过渡。可以通过这个来构造柔和的过渡效果。<br>　　<img src="http://7xr55t.com1.z0.glb.clouddn.com/linear-gradient/smooth-gradient.png" alt="smooth-gradient"></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"smooth-gradient"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.smooth-gradient</span> &#123;</div><div class="line">  <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(to right, #fb3 20%, #58a 80%);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<p><strong>3.</strong> 生成斑马线<br>　　当两个颜色节点的位置相同时，它们之间没有过渡效果。可以通过这点来构造斑马线（如果你需要的话:-)）<br>　　<img src="http://7xr55t.com1.z0.glb.clouddn.com/linear-gradient/zebra-line.png" alt="zebra-line"><br>　　<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"zebra-line"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.zebra-line</span> &#123;</div><div class="line">  <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(to right, #fb3 50%, #58a 50%);</div><div class="line">  <span class="attribute">background-size</span>:  <span class="number">30px</span> <span class="number">30px</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<p><strong>4.</strong> 生成斜向条纹<br>　将上一个例子的渐变方向改为45deg，就可以生成斜向条纹。<br>　 <img src="http://7xr55t.com1.z0.glb.clouddn.com/linear-gradient/bias-zebra-line.png" alt="bias-zebra-line"><br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"bias-zebra-line"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.bias-zebra-line</span> &#123;</div><div class="line">  <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(45deg, #fb3 50%, #58a 50%);</div><div class="line">  <span class="attribute">background-size</span>:  <span class="number">30px</span> <span class="number">30px</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;　　以下内容部分选取于《CSS Secrets》，部分来源于网上收集的案例。展示了CSS3线性渐变的一些应用实例。&lt;br&gt;
    
    </summary>
    
      <category term="css" scheme="http://geek.com/categories/css/"/>
    
    
      <category term="css" scheme="http://geek.com/tags/css/"/>
    
      <category term="linear-gradient" scheme="http://geek.com/tags/linear-gradient/"/>
    
  </entry>
  
  <entry>
    <title>双飞翼布局与圣杯布局的比较</title>
    <link href="http://geek.com/2016/03/25/%E5%8F%8C%E9%A3%9E%E7%BF%BC%E5%B8%83%E5%B1%80%E4%B8%8E%E5%9C%A3%E6%9D%AF%E5%B8%83%E5%B1%80%E7%9A%84%E6%AF%94%E8%BE%83/"/>
    <id>http://geek.com/2016/03/25/双飞翼布局与圣杯布局的比较/</id>
    <published>2016-03-25T08:17:35.000Z</published>
    <updated>2017-08-22T13:56:46.646Z</updated>
    
    <content type="html"><![CDATA[<h3 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h3><p>圣杯布局和双飞翼布局都可以实现左右固定宽度，中间内容区宽度自适应。它们在实现时都应用了负外边距，然而两者在实现思路上略有不同。下面细致分析一下它们实现的共性与区别。</p>
<a id="more"></a>
<h2 id="共性"><a href="#共性" class="headerlink" title="共性"></a>共性</h2><p>负左外边距提升位置。（why?）</p>
<p><em>原理</em></p>
<ol>
<li>外边距形成两个相邻元素之间的间隔or空隙</li>
<li>对于浮动元素来说，缩小左外边距使两个元素之间间隔减小。</li>
<li>外边距减为0时两个元素贴在一起。</li>
<li>继续减小，形成负值。此时外边距表示两个元素之间远离程度。</li>
</ol>
<p>so. 双飞翼与圣杯布局都是中间内容宽度100%，接下来设置左栏margin: -100%; 因为浮动元素会一直浮动到触碰到它的前一个浮元素的右边界或包含框，所以左栏会向上移动使其左边界触碰到中间内容区的右边界，而此时的负左外边距使其一直移动到它的左边界远离中间内容区的右边界100%父元素宽度处（即左栏上移覆盖在中间内容区左侧），接下来调整其位置，使中间内容区被覆盖的部分显示出来即可。</p>
<p><img src="http://7xr55t.com1.z0.glb.clouddn.com/layout_different%2Fnative_margin_01.png" alt="负左外边距为0"></p>
<p><img src="http://7xr55t.com1.z0.glb.clouddn.com/layout_different%2Fnative_margin_02.png" alt="负左外边距为100%"></p>
<h2 id="差异"><a href="#差异" class="headerlink" title="差异"></a>差异</h2><h3 id="双飞翼布局"><a href="#双飞翼布局" class="headerlink" title="双飞翼布局"></a>双飞翼布局</h3><p>双飞翼布局为了解决中间部分左侧被上移的侧栏压住，为中间部分添加了内部标签，并设置 margin 或 padding 来产生空白，收缩内容，使被压住的部分显露出来。</p>
<h3 id="圣杯布局"><a href="#圣杯布局" class="headerlink" title="圣杯布局"></a>圣杯布局</h3><p>圣杯布局则通过定位来解决，它先在中间内容区通过padding留出左右侧栏宽度的空白，然后使左右侧栏相对定位，左侧栏上移后，设置其 right 为栏宽，使它继续向左移动到为其留出的空白上，右侧栏同理设置 margin-left 等于栏宽的一个负值使其紧跟左侧栏上移（由于侧栏 100% 的负左外边距，使其显示在中间内容区右侧），再为其设置 left 为栏宽就能显示在正确位置。</p>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;引言&quot;&gt;&lt;a href=&quot;#引言&quot; class=&quot;headerlink&quot; title=&quot;引言&quot;&gt;&lt;/a&gt;引言&lt;/h3&gt;&lt;p&gt;圣杯布局和双飞翼布局都可以实现左右固定宽度，中间内容区宽度自适应。它们在实现时都应用了负外边距，然而两者在实现思路上略有不同。下面细致分析一下它们实现的共性与区别。&lt;/p&gt;
    
    </summary>
    
      <category term="css" scheme="http://geek.com/categories/css/"/>
    
    
      <category term="margin" scheme="http://geek.com/tags/margin/"/>
    
      <category term="layout" scheme="http://geek.com/tags/layout/"/>
    
  </entry>
  
  <entry>
    <title>圣杯布局 -- 负外边距应用</title>
    <link href="http://geek.com/2016/03/10/%E5%9C%A3%E6%9D%AF%E5%B8%83%E5%B1%80-%E8%B4%9F%E5%A4%96%E8%BE%B9%E8%B7%9D%E5%BA%94%E7%94%A8/"/>
    <id>http://geek.com/2016/03/10/圣杯布局-负外边距应用/</id>
    <published>2016-03-10T10:06:01.000Z</published>
    <updated>2017-08-22T13:56:39.307Z</updated>
    
    <content type="html"><![CDATA[<h3 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h3><p>「圣杯布局」—— 尽管这是一个很古老的话题了，而且网上早就有许多相关的文章，但作为前端入门和面试的必备知识之一，还是觉得有必要温故而知新一番。尤其是在拜读了「yuanzm」的博客 《我是如何同时拿到阿里和腾讯offer的》 文章后，更感到对于任何别人的知识至少都需要花点时间自己实践一下，了解一下它的原理甚至是历史，而不应盲目引用和浮于表面。谨以此文表示感谢~</p>
<p><img src="http://7xr55t.com1.z0.glb.clouddn.com/holly%20grail%2Fholy_grail.jpg" alt="圣杯布局"><br><a id="more"></a><br>圣杯的由来</p>
<p>圣杯布局是讨论「三栏液态布局」的实现，它最早出自于谁或许不得而查了，但最早的完美实现是来自于 Matthew Levine 于2006年在「A LIST APART」上写的一篇文章，它主要讲述了网页中关于最佳圣杯的实现方法。</p>
<p>所谓液态布局是相对固态布局而言的，固态布局就是固定值不变的布局，液态就好比在容器里到了一杯水，它可以随着容器宽度的变化而自适应宽度。</p>
<p>在这篇文章中，作者指出了当时的一些实现方式所存在的问题，如：必须按照源顺序（在 DOM 中表现为先写 Left，然后 Middle，最后，Right）等，它将可能导致代码不够灵活，尤其是从 DOM 的载入顺序上来说，中间的内容不能被首先加载。</p>
<p>因此他给出一个方案，它将：</p>
<ul>
<li>两边带有固定宽度中间可以流动（fluid）；</li>
<li>允许中间一栏最先出现；</li>
<li>允许任意一栏放在最上面；</li>
<li>仅需一个额外的 div 标签</li>
<li>仅需非常简单的 CSS，带上最少的兼容性补丁</li>
</ul>
<p>文中还提到了他的这个想法是基于「One True Layout」 和 「 Eric Meyer’s adaptation」两篇文章带来的灵感。</p>
<p>在这里你可以看到「圣杯布局」的最终效果： <a href="http://alistapart.com/d/holygrail/example_1.html" target="_blank" rel="external">http://alistapart.com/d/holygrail/example_1.html</a></p>
<h2 id="实现方式"><a href="#实现方式" class="headerlink" title="实现方式"></a>实现方式</h2><p>接下来就言归正传，说下具体的实现思路：</p>
<p>首先我们需要布局的 HTML 代码如下，作者在这里为了便于表达，对标签使用了非语义化的 id ，他建议在其他任何正式项目中尽量使用语义化的 id 。例如，我们需要实现的是左侧宽度为 200px，右侧宽度为 150px，中间是流动的布局。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"header"</span>&gt;</span>#header<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"container"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"center"</span> <span class="attr">class</span>=<span class="string">"column"</span>&gt;</span>#center<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"left"</span> <span class="attr">class</span>=<span class="string">"column"</span>&gt;</span>#left<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"right"</span> <span class="attr">class</span>=<span class="string">"column"</span>&gt;</span>#right<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"footer"</span>&gt;</span>#footer<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>正如他先前提到的，只是加了一层额外的 div 它的 id 是 container 。它的 CSS 内容非常简单，具体代码如下：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">body</span> &#123;</div><div class="line">  <span class="attribute">min-width</span>: <span class="number">550px</span>;      <span class="comment">/* 2x LC width + RC width */</span></div><div class="line">&#125;</div><div class="line"><span class="selector-id">#container</span> &#123;</div><div class="line">  <span class="attribute">padding-left</span>: <span class="number">200px</span>;   <span class="comment">/* LC width */</span></div><div class="line">  <span class="attribute">padding-right</span>: <span class="number">150px</span>;  <span class="comment">/* RC width */</span></div><div class="line">&#125;</div><div class="line"><span class="selector-id">#container</span> <span class="selector-class">.column</span> &#123;</div><div class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</div><div class="line">  <span class="attribute">position</span>: relative;</div><div class="line">  <span class="attribute">float</span>: left;</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#center</span> &#123;</div><div class="line">  <span class="attribute">background-color</span>: <span class="number">#e9e9e9</span>;</div><div class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#left</span> &#123;</div><div class="line">  <span class="attribute">background-color</span>: red;</div><div class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;          <span class="comment">/* LC width */</span></div><div class="line">  <span class="attribute">right</span>: <span class="number">200px</span>;          <span class="comment">/* LC width */</span></div><div class="line">  <span class="attribute">margin-left</span>: -<span class="number">100%</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#right</span> &#123;</div><div class="line">  <span class="attribute">background-color</span>: blue;</div><div class="line">  <span class="attribute">width</span>: <span class="number">150px</span>;          <span class="comment">/* RC width */</span></div><div class="line">  <span class="attribute">margin-right</span>: -<span class="number">150px</span>;  <span class="comment">/* RC width */</span></div><div class="line">&#125;</div><div class="line"><span class="selector-id">#footer</span> &#123;</div><div class="line">  <span class="attribute">clear</span>: both;</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#header</span>, </div><div class="line"><span class="selector-id">#footer</span> &#123;</div><div class="line">  <span class="attribute">background-color</span>: <span class="number">#c9c9c9</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*** IE6 Fix ***/</span></div><div class="line">* <span class="selector-tag">html</span> <span class="selector-id">#left</span> &#123;</div><div class="line">  <span class="attribute">left</span>: <span class="number">150px</span>;           <span class="comment">/* RC width */</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><strong><em>下面我们来分步观察它的实现逻辑：</em></strong></p>
<h3 id="第1步-建立框架"><a href="#第1步-建立框架" class="headerlink" title="第1步 建立框架"></a>第1步 建立框架</h3><p>先写 header, footer 和 container 三个 div<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"header"</span>&gt;</span>#header<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"container"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"footer"</span>&gt;</span>#footer<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>我们将 container 的内边距设置为左右两边各自的宽度。它看起来就像这样：</p>
<p><img src="http://7xr55t.com1.z0.glb.clouddn.com/holly%20grail%2Fdiagram_01.gif" alt="Step 1: Create the frame"></p>
<h3 id="第2步-加入三栏"><a href="#第2步-加入三栏" class="headerlink" title="第2步 加入三栏"></a>第2步 加入三栏</h3><p>此时我们有了基本框架，可以把三栏塞进去了。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"header"</span>&gt;</span>#header<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"container"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"center"</span> <span class="attr">class</span>=<span class="string">"column"</span>&gt;</span>#center<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"left"</span> <span class="attr">class</span>=<span class="string">"column"</span>&gt;</span>#left<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"right"</span> <span class="attr">class</span>=<span class="string">"column"</span>&gt;</span>#right<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"footer"</span>&gt;</span>#footer<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>接着我们给每一栏配上合适的宽度，并将它们设为浮动。同时我们需要清除 footer 的上下环境，以免遭跟上面三栏一起浮动。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="selector-id">#container</span> <span class="selector-class">.column</span> &#123;</div><div class="line">  <span class="attribute">float</span>: left;</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#center</span> &#123;</div><div class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#left</span> &#123;</div><div class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;  <span class="comment">/* LC width */</span></div><div class="line">&#125;</div><div class="line"><span class="selector-id">#right</span> &#123;</div><div class="line">  <span class="attribute">width</span>: <span class="number">150px</span>;  <span class="comment">/* RC width */</span></div><div class="line">&#125;</div><div class="line"><span class="selector-id">#footer</span> &#123;</div><div class="line">  <span class="attribute">clear</span>: both;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>注意这里中间一栏的 100% 宽是基于它的父容器 container 的宽度而言的，由于 container 设置了内边距，因此中间栏看起来就处在了网页的中间，但左右两栏由于排在中间栏的后面，且因为空间不够被挤到了中间栏的下面，如下图所示：</p>
<p><img src="http://7xr55t.com1.z0.glb.clouddn.com/holly%20grail%2Fdiagram_02.gif" alt="Step 2: Add the columns"></p>
<h3 id="第3步-把左侧栏放上去"><a href="#第3步-把左侧栏放上去" class="headerlink" title="第3步 把左侧栏放上去"></a>第3步 把左侧栏放上去</h3><p>中间栏已经就位，剩下的事情就是把左右两栏放上去了，接下来我们先放左侧栏。</p>
<p>为了详述过程，这里将分为两个小步骤。首先，我们先将它的外边距设置为 -100%，这样一来，由于浮动的关系，左侧栏就能上位，与中间栏交叠在一起，并占据了左边。而右侧栏由于左侧栏的上位，自动向前浮动到了原来左侧栏的位置。</p>
<p><img src="http://7xr55t.com1.z0.glb.clouddn.com/holly%20grail%2Fdiagram_03.gif" alt="Step 3: Pull the left column into place—halfway there"></p>
<p>接着我们要用到相对定位属性（relative），并设置一个与 左侧栏 等宽的偏移量：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="selector-id">#container</span> <span class="selector-class">.columns</span> &#123;</div><div class="line">  <span class="attribute">float</span>: left;</div><div class="line">  <span class="attribute">position</span>: relative;</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#left</span> &#123;</div><div class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;        <span class="comment">/* LC width */</span></div><div class="line">  <span class="attribute">margin-left</span>: -<span class="number">100%</span>;  </div><div class="line">  <span class="attribute">right</span>: <span class="number">200px</span>;        <span class="comment">/* LC width */</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>可以看到，它设置的 right 属性就是相对于 container 的右边线向左偏移 200px，如此一来，它就完美地跑到了 container 左内边距的位置，也就是我们希望它呆的地方，如下图所示：</p>
<p><img src="http://7xr55t.com1.z0.glb.clouddn.com/holly%20grail%2Fdiagram_04.gif" alt="Step 3: Left column pulled into place"></p>
<h3 id="第4步-把右侧栏放上去"><a href="#第4步-把右侧栏放上去" class="headerlink" title="第4步 把右侧栏放上去"></a>第4步 把右侧栏放上去</h3><p>最后，我们需要把右侧栏放上去，此时只需利用上面的原理把他放到 container 的右外边距的位置即可，我们需要再一次设置一个负外边距的值，它等于 右侧栏 的宽度：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="selector-id">#right</span> &#123;</div><div class="line">  <span class="attribute">width</span>: <span class="number">150px</span>;          <span class="comment">/* RC width */</span></div><div class="line">  <span class="attribute">margin-right</span>: -<span class="number">150px</span>;  <span class="comment">/* RC width */</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>至此，所有的栏目都就位了~</p>
<p><img src="http://7xr55t.com1.z0.glb.clouddn.com/holly%20grail%2Fdiagram_05.gif" alt="Step 4: Pull the right column into place"></p>
<p>本文转载于segmentfault – <a href="https://segmentfault.com/a/1190000004524159" target="_blank" rel="external">关于圣杯布局 </a> by <strong>DotHide</strong><br>英文原文参见 – <a href="http://alistapart.com/article/holygrail" target="_blank" rel="external">In Search of the Holy Grail</a> by <strong>Matthew Levine</strong></p>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;引言&quot;&gt;&lt;a href=&quot;#引言&quot; class=&quot;headerlink&quot; title=&quot;引言&quot;&gt;&lt;/a&gt;引言&lt;/h3&gt;&lt;p&gt;「圣杯布局」—— 尽管这是一个很古老的话题了，而且网上早就有许多相关的文章，但作为前端入门和面试的必备知识之一，还是觉得有必要温故而知新一番。尤其是在拜读了「yuanzm」的博客 《我是如何同时拿到阿里和腾讯offer的》 文章后，更感到对于任何别人的知识至少都需要花点时间自己实践一下，了解一下它的原理甚至是历史，而不应盲目引用和浮于表面。谨以此文表示感谢~&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xr55t.com1.z0.glb.clouddn.com/holly%20grail%2Fholy_grail.jpg&quot; alt=&quot;圣杯布局&quot;&gt;&lt;br&gt;
    
    </summary>
    
      <category term="css" scheme="http://geek.com/categories/css/"/>
    
    
      <category term="margin" scheme="http://geek.com/tags/margin/"/>
    
      <category term="layout" scheme="http://geek.com/tags/layout/"/>
    
  </entry>
  
  <entry>
    <title>Sublime Text 3常用插件安装与配置</title>
    <link href="http://geek.com/2016/03/09/Sublime-Text-3%E5%B8%B8%E7%94%A8%E6%8F%92%E4%BB%B6%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE/"/>
    <id>http://geek.com/2016/03/09/Sublime-Text-3常用插件安装与配置/</id>
    <published>2016-03-09T00:31:44.000Z</published>
    <updated>2017-08-22T14:33:57.646Z</updated>
    
    <content type="html"><![CDATA[<p>记录st3一些常用插件的安装与配置<br><a id="more"></a><br>[TOC]</p>
<h2 id="1-sublime-text-3-配置"><a href="#1-sublime-text-3-配置" class="headerlink" title="1. sublime text 3 配置"></a><em>1.</em> sublime text 3 配置</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">"color_scheme": "Packages/Theme - Afterglow/Afterglow.tmTheme",</div><div class="line">"draw_white_space": "all",</div><div class="line">"ensure_newline_at_eof_on_save": true,</div><div class="line">"font_face": "CamingoCode",</div><div class="line">"font_size": 14,</div><div class="line">"ignored_packages":</div><div class="line">[</div><div class="line"><span class="string">"Vintage"</span></div><div class="line">],</div><div class="line">"shift_tab_unindent": true,</div><div class="line">"show_encoding": false,</div><div class="line">"tab_size": 2,</div><div class="line">"theme": "Afterglow.sublime-theme",           // 替换为color_scheme对应的主题</div><div class="line">"translate_tabs_to_spaces": true,</div><div class="line">"trim_trailing_white_space_on_save": true</div></pre></td></tr></table></figure>
<h2 id="2-Package-Control-安装与配置"><a href="#2-Package-Control-安装与配置" class="headerlink" title="2. Package Control 安装与配置"></a><em>2.</em> Package Control 安装与配置</h2><p>使用goagent或xx-net代理时，可添加如下配置，或者也可以更改chanels源，详情请移步</p>
<p> <a href="http://www.cnblogs.com/52cik/p/Package-Control.html" target="_blank" rel="external">Sublime Text 之 Package Control 镜像</a>   </p>
<p><a href="http://rabbit52.com/2013/devel/goagent-proxy-sublime-text-2-package-control" target="_blank" rel="external">使用GoAgent代理Sublime Text2的Package Control</a><br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">"certs":                               // 证书</div><div class="line">&#123;</div><div class="line"><span class="attr">"*"</span>:</div><div class="line">[</div><div class="line">  <span class="string">"goagent"</span>,</div><div class="line">  <span class="string">"D:/Program Files/XX-Net-master/data/gae_proxy/CA.crt"</span></div><div class="line">]</div><div class="line">&#125;,</div><div class="line">"channels":</div><div class="line">[</div><div class="line">  <span class="string">"https://dn-52cik.qbox.me/channel_v3.json"</span>  // 已废弃，不使用</div><div class="line">],</div><div class="line">"http_proxy": "127.0.0.1:8087",               // http代理端口 </div><div class="line">"https_proxy": "127.0.0.1:8087"               // https代理端口</div></pre></td></tr></table></figure></p>
<h2 id="3-Theme"><a href="#3-Theme" class="headerlink" title="3. Theme"></a><em>3.</em> Theme</h2><p>常用主题如下：</p>
<ul>
<li>ayu</li>
<li>Boxy</li>
<li>Material<br><strong>ayu</strong>主题配置<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">"ui_big_tabs": true,</div><div class="line">"ui_fix_tab_labels": true,</div><div class="line">"ui_font_default": true,</div><div class="line">"ui_font_size_small": true,</div><div class="line">"ui_font_source_code_pro": false,</div><div class="line">"ui_separator": true,</div><div class="line">"ui_sidebar_highlight_row": true,</div><div class="line">"ui_wide_scrollbars": true</div></pre></td></tr></table></figure>
</li>
</ul>
<p>以下安装略去……</p>
<h2 id="SublimeCodeIntel"><a href="#SublimeCodeIntel" class="headerlink" title="SublimeCodeIntel"></a>SublimeCodeIntel</h2><h2 id="Color-Highlighter"><a href="#Color-Highlighter" class="headerlink" title="Color Highlighter"></a>Color Highlighter</h2><h2 id="Emmet"><a href="#Emmet" class="headerlink" title="Emmet"></a>Emmet</h2><h2 id="Sidebar-Enhancement"><a href="#Sidebar-Enhancement" class="headerlink" title="Sidebar Enhancement"></a>Sidebar Enhancement</h2>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;记录st3一些常用插件的安装与配置&lt;br&gt;
    
    </summary>
    
      <category term="editor" scheme="http://geek.com/categories/editor/"/>
    
    
      <category term="sublime" scheme="http://geek.com/tags/sublime/"/>
    
      <category term="proxy" scheme="http://geek.com/tags/proxy/"/>
    
  </entry>
  
</feed>
